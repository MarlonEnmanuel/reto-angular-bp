<div class="products-page">

    <div class="products-page-header">
        <div>
            <input
                type="text"
                name="search"
                placeholder="Buscar"
                (keyup)="updateSearch($event)"
                [disabled]="loading()"
                />
        </div>
        <div>
            <a [routerLink]="['create']">
                <button class="primary">Agregar</button>
            </a>
        </div>
    </div>

    @if (loading()) {
        <app-table-skeleton [rows]="7" helperText="Cargando ..."/>
    }
    @else {
        <app-product-list
            [products]="filteredProducts"
            (onDelete)="productToDelete.set($event)"
            />
    }

    @if (productToDelete()) {
        <app-confirmation-modal
            [message]="getDeleteMessage()"
            (onCancel)="productToDelete.set(null)"
            (onConfirm)="deleteProduct()"
            />
    }

</div>